<template>
  <svg
    version="1.0"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 264.000000 257.000000"
    preserveAspectRatio="xMidYMid meet"
    class="svg"
    v-show="hover"
  >
    <g transform="translate(0.000000,257.000000) scale(0.100000,-0.100000)">
      <path
        d="M1207 2542 c-23 -25 -21 -37 7 -59 17 -12 30 -39 42 -84 l17 -66 -60
-73 -61 -73 35 -81 c19 -45 37 -86 39 -92 3 -6 -24 -48 -61 -94 -36 -46 -65
-87 -65 -91 0 -5 11 -42 25 -83 14 -41 25 -79 25 -85 0 -6 -17 -19 -39 -30
l-38 -20 -7 61 c-3 33 -6 76 -6 95 0 33 -2 35 -87 75 -97 44 -135 61 -237 104
-44 19 -71 37 -77 51 -4 12 -18 27 -31 33 l-23 11 23 -17 c12 -9 22 -26 22
-39 0 -19 26 -33 193 -107 l192 -85 8 -97 9 -97 -29 -22 c-15 -12 -57 -53 -93
-90 l-65 -68 -76 43 -77 43 -6 65 c-3 36 -6 87 -6 113 l0 48 -95 44 c-83 39
-95 48 -95 69 l0 25 63 -24 c34 -13 85 -32 112 -43 l50 -20 6 -63 c4 -35 7
-92 8 -125 l1 -62 50 -21 c28 -12 56 -19 63 -15 7 4 38 31 69 58 l58 51 0 67
c0 65 -1 68 -30 83 -16 9 -30 22 -30 30 0 23 -36 38 -60 25 -39 -21 -13 -78
31 -67 12 3 31 1 44 -5 19 -8 24 -20 27 -61 3 -56 2 -59 -74 -126 l-46 -42
-39 18 -38 18 -10 124 -10 125 -125 50 -125 51 -3 62 -3 62 -69 43 c-39 24
-69 50 -70 59 -1 39 -53 50 -74 17 -16 -26 5 -53 41 -53 17 0 56 -17 91 -38
60 -37 62 -39 62 -81 0 -24 3 -70 6 -102 l6 -60 92 -41 91 -42 9 -114 9 -114
88 -49 c86 -47 98 -57 81 -68 -4 -2 -119 53 -257 124 -176 91 -251 135 -257
150 -12 33 -62 24 -66 -12 -3 -22 2 -29 22 -34 14 -3 30 -3 35 1 14 8 511
-246 511 -262 0 -6 -4 -23 -9 -36 l-10 -25 -163 83 c-125 64 -164 89 -168 106
-3 12 -12 24 -20 27 -12 3 -12 2 -2 -6 8 -5 12 -20 10 -33 -2 -18 -9 -24 -28
-24 -19 0 -26 6 -28 24 -2 13 2 28 10 33 10 8 10 9 -2 5 -20 -5 -25 -44 -9
-63 9 -11 22 -14 42 -10 22 5 62 -11 190 -76 89 -44 163 -82 165 -83 2 -2 0
-26 -4 -54 l-7 -51 -96 0 -97 0 -60 105 -59 105 -161 0 c-148 0 -162 2 -179
20 -34 38 -85 20 -85 -30 0 -50 52 -68 88 -30 18 19 29 20 172 18 l153 -3 48
-85 c27 -47 49 -88 49 -92 0 -5 -91 -8 -203 -8 -201 0 -203 0 -240 -26 -25
-17 -46 -24 -61 -20 -56 14 -89 -58 -41 -90 23 -15 27 -15 50 0 15 10 25 26
25 41 0 17 11 32 37 50 l38 25 313 0 c195 0 311 -4 307 -9 -3 -6 -45 -37 -93
-70 l-86 -61 -112 0 c-90 0 -113 3 -118 15 -7 20 -62 20 -70 -1 -12 -32 -6
-55 19 -66 21 -10 29 -8 48 10 21 20 34 22 133 22 l109 0 88 61 c49 34 90 59
91 58 10 -11 34 -114 28 -117 -4 -2 -41 -20 -82 -40 l-75 -37 -12 -75 c-25
-152 -12 -134 -116 -170 l-93 -32 -15 -96 -14 -96 -55 -29 c-35 -19 -69 -29
-92 -28 -28 1 -40 -4 -49 -20 -9 -18 -7 -25 9 -41 16 -16 23 -18 41 -9 11 7
21 18 21 26 0 8 33 31 73 52 l72 38 7 54 c3 29 10 57 15 61 4 4 60 23 123 41
63 18 116 33 118 34 1 1 11 55 22 120 11 65 21 119 22 120 2 0 20 6 40 12 l38
11 51 -59 c50 -58 51 -59 44 -110 -8 -56 -32 -75 -72 -56 -41 18 -73 -34 -38
-63 19 -15 52 -4 60 20 4 11 17 23 30 26 28 7 31 14 39 85 l6 54 -58 62 -58
62 -51 -15 -50 -15 -18 -115 c-22 -132 -12 -121 -151 -163 -88 -26 -96 -26
-92 0 2 18 21 29 93 54 l90 33 12 63 c6 35 14 84 18 109 6 45 7 45 78 78 40
18 75 32 79 32 4 0 23 -24 43 -54 20 -30 55 -72 79 -94 l44 -40 -14 -84 c-7
-45 -14 -86 -14 -89 0 -11 -371 -131 -390 -126 -16 4 -17 2 -8 -13 16 -25 3
-50 -27 -50 -31 0 -43 25 -25 54 12 19 12 20 -3 7 -35 -28 -10 -76 35 -69 13
2 27 12 32 24 7 15 46 32 155 69 80 26 169 57 197 67 l51 18 13 90 c7 50 15
90 17 90 3 0 17 -8 31 -19 27 -19 27 -19 22 -121 -4 -85 -8 -104 -22 -111 -10
-5 -26 -13 -35 -17 -23 -11 -26 -24 -10 -46 19 -25 57 -13 57 18 0 13 7 29 15
36 10 9 15 39 17 115 l3 103 33 -13 32 -14 0 -236 c0 -224 -1 -236 -21 -256
-18 -18 -19 -23 -6 -42 8 -12 21 -23 29 -25 17 -3 48 23 48 41 0 6 -7 1 -16
-11 -19 -27 -40 -28 -54 -3 -15 29 13 55 43 40 21 -12 21 -11 5 8 -16 17 -18
45 -18 252 l0 233 33 -7 c17 -4 33 -8 33 -9 1 0 4 -134 7 -297 6 -255 5 -299
-8 -309 -20 -17 -19 -47 3 -59 39 -21 71 31 37 59 -13 11 -15 58 -15 312 l0
299 38 -3 37 -3 3 -263 c2 -224 0 -265 -13 -278 -18 -19 -19 -25 -1 -49 15
-20 43 -15 52 10 4 8 0 30 -8 48 -11 24 -15 92 -17 283 l-3 251 33 7 c18 3 34
5 35 3 2 -1 4 -78 4 -171 2 -140 -1 -170 -14 -185 -20 -22 -20 -35 1 -52 15
-13 15 -12 2 9 -13 21 -12 25 9 42 21 18 22 24 22 193 l0 175 30 11 30 10 0
-78 c0 -56 4 -82 14 -91 8 -6 16 -24 18 -38 4 -36 53 -45 63 -12 9 27 -9 48
-43 52 -27 3 -27 4 -30 90 l-3 87 31 16 c16 8 30 14 31 13 0 -2 8 -46 17 -97
l18 -95 84 -27 c47 -15 140 -45 207 -67 121 -39 122 -39 140 -20 17 19 17 19
-9 13 -20 -5 -80 11 -215 55 -103 35 -189 63 -190 64 -1 1 -9 44 -18 96 l-16
94 36 34 c20 19 53 57 74 86 60 81 56 80 141 41 84 -38 78 -28 103 -180 l13
-79 97 -34 c68 -25 98 -40 103 -54 3 -11 4 -22 1 -25 -5 -4 -227 54 -235 62
-2 2 -13 58 -25 126 l-22 122 -52 15 -51 14 -62 -63 -61 -64 6 -50 c10 -83 15
-93 46 -100 16 -4 29 -12 29 -20 0 -7 7 -18 15 -25 21 -17 65 2 65 29 0 30
-25 44 -69 36 -46 -8 -58 6 -66 77 -5 41 -3 46 48 101 l54 59 41 -12 40 -13
16 -96 c29 -167 13 -148 156 -189 69 -20 128 -40 132 -45 3 -6 9 -34 13 -64
l7 -54 73 -36 c54 -27 75 -43 80 -61 4 -18 11 -23 32 -20 34 4 52 32 37 56 -7
11 -24 17 -50 18 -22 0 -65 13 -96 28 l-56 28 -12 71 c-23 142 -8 125 -156
177 l-61 22 -19 110 -18 110 -85 39 c-47 22 -86 41 -88 43 -7 7 21 106 30 106
5 0 48 -27 96 -60 l88 -60 108 0 c98 0 111 -2 132 -22 20 -18 26 -20 49 -10
21 10 25 18 22 45 -3 28 -7 32 -34 35 -19 2 -36 -3 -44 -12 -10 -13 -35 -16
-119 -16 l-107 0 -96 68 -97 67 316 3 317 2 38 -25 c27 -18 38 -32 38 -50 0
-15 10 -31 25 -41 23 -15 27 -15 50 0 15 10 25 26 25 41 0 31 -40 59 -70 50
-14 -5 -31 1 -55 19 l-34 26 -205 0 c-113 0 -206 3 -206 8 0 4 22 45 49 92
l48 85 153 3 c143 2 154 1 172 -18 26 -28 64 -26 84 5 15 23 15 27 0 50 -20
30 -56 33 -81 5 -17 -18 -31 -20 -179 -20 l-161 0 -59 -105 -60 -105 -103 0
-103 0 -2 40 c-1 22 -2 51 -2 64 -1 19 17 38 78 85 72 56 116 75 116 51 0 -14
36 -31 54 -24 21 8 30 42 16 59 -16 19 -44 19 -60 0 -8 -9 -21 -13 -32 -9 -14
4 -42 -12 -98 -55 -43 -34 -81 -61 -83 -61 -5 0 -29 62 -25 65 2 1 91 71 197
156 147 115 201 153 218 151 28 -4 53 14 53 38 0 17 -30 50 -46 50 -4 0 2 -7
14 -16 32 -22 26 -58 -11 -62 -33 -4 -46 21 -27 52 12 19 12 20 -3 7 -10 -7
-17 -23 -17 -35 -1 -15 -42 -53 -147 -136 -81 -63 -168 -132 -194 -153 l-48
-38 -16 30 c-8 17 -15 32 -15 35 0 3 110 94 245 201 163 129 253 195 269 195
30 0 49 23 41 50 -4 14 -15 20 -35 20 -24 0 -31 -5 -37 -29 -6 -22 -65 -75
-253 -224 l-245 -196 -22 27 c-12 15 -22 30 -23 35 0 4 96 84 213 177 155 123
219 169 239 170 45 0 61 59 22 74 -23 9 -52 -11 -56 -36 -2 -15 -72 -77 -218
-195 -118 -95 -217 -173 -220 -173 -3 0 -18 10 -33 23 l-28 22 88 70 c48 39
116 91 151 117 34 25 58 49 53 52 -9 6 -86 -51 -228 -166 -39 -32 -75 -58 -80
-58 -13 0 -63 24 -63 30 0 3 28 25 62 49 36 27 66 57 74 77 8 18 18 35 24 39
17 11 11 44 -11 56 -18 9 -25 7 -41 -9 -20 -19 -20 -21 -2 -50 21 -37 17 -43
-67 -108 -62 -48 -65 -49 -104 -34 l-26 10 58 76 c32 42 57 79 56 82 -1 4 -38
87 -83 186 -54 120 -79 185 -75 200 5 18 5 19 -5 4 -13 -21 -40 -23 -59 -5
-11 10 -12 9 -6 -1 4 -7 16 -17 27 -21 15 -5 43 -56 94 -170 40 -89 76 -171
79 -181 5 -14 -9 -40 -49 -91 l-56 -71 -124 -3 -124 -4 -11 27 c-5 15 -18 51
-27 79 l-16 53 54 67 c88 109 85 97 44 190 -39 89 -42 105 -23 121 10 9 24
-12 65 -95 l53 -105 -70 -93 c-39 -51 -71 -97 -71 -102 0 -5 9 -28 20 -51 l20
-42 88 0 88 0 39 51 c35 46 38 54 28 79 -7 19 -7 32 -1 38 13 13 1 49 -18 56
-47 18 -72 -49 -26 -69 38 -16 38 -49 1 -94 l-32 -41 -77 0 -77 0 -17 39 -18
39 71 89 c39 50 71 96 71 102 0 7 -25 62 -56 122 l-56 109 36 42 c41 48 42 52
18 133 -14 46 -16 67 -8 88 9 24 7 31 -9 43 -24 18 -29 18 -48 -4z m266 -923
c197 -66 317 -233 317 -441 0 -145 -44 -243 -155 -345 -91 -86 -104 -93 -178
-109 -171 -37 -356 15 -464 129 -221 233 -156 605 129 741 86 40 97 43 206 45
60 1 100 -5 145 -20z m-1309 -241 c15 -25 -3 -52 -37 -56 -21 -3 -28 2 -33 22
-12 49 43 76 70 34z m2401 -18 c0 -29 -4 -36 -23 -38 -43 -6 -69 37 -40 66 7
7 24 12 38 10 21 -3 25 -8 25 -38z m-2474 -260 c25 -14 25 -56 0 -70 -11 -5
-22 -10 -25 -10 -10 0 -36 32 -36 45 0 13 26 45 36 45 3 0 14 -5 25 -10z
m2520 0 c25 -14 25 -56 -1 -70 -45 -24 -86 44 -42 69 21 13 20 13 43 1z"
      />
      <path
        d="M1329 2263 c-11 -15 -11 -16 1 -5 20 17 47 15 59 -5 6 -10 11 -13 11
-7 1 32 -50 45 -71 17z"
      />
      <path
        d="M582 2018 c-21 -21 -14 -57 13 -70 17 -8 29 -8 36 -1 6 6 3 9 -12 9
-30 -1 -47 28 -31 54 14 23 12 26 -6 8z"
      />
      <path
        d="M1890 1879 c-7 -11 -9 -23 -7 -26 3 -2 8 5 12 17 5 16 13 20 33 18
36 -4 42 -40 10 -62 -12 -9 -18 -16 -12 -16 15 0 44 34 44 51 0 40 -62 53 -80
18z"
      />
      <path
        d="M2118 460 c24 -10 29 -39 10 -58 -16 -16 -33 -15 -52 4 -9 8 -16 11
-16 6 0 -19 30 -34 55 -28 45 11 42 87 -4 85 -11 0 -9 -3 7 -9z"
      />
      <path
        d="M1486 327 c3 -10 9 -15 12 -12 3 3 0 11 -7 18 -10 9 -11 8 -5 -6z"
      />
    </g>
  </svg>
  <div class="nav_text">
    <p>{{ iconText }}</p>
  </div>
  <nav>
    <ul class="loader_welcome">
      <li class="loader_welcome--0">
        <button
          @mouseover="getPosition('.loader_welcome--0', '#c0450b', 'About Me')"
          @mouseleave="(hover = false), (iconText = '')"
          class="rounded"
        >
          <i class="fa fa-user"></i>
        </button>
      </li>
      <li class="loader_welcome--1">
        <button
          @mouseover="
            getPosition('.loader_welcome--1', '#2bd2ff', 'My Projects')
          "
          @mouseleave="(hover = false), (iconText = '')"
          class="rounded"
        >
          <i class="fa fa-code"></i>
        </button>
      </li>
      <li class="loader_welcome--2">
        <button
          @mouseover="getPosition('.loader_welcome--2', '#00fa9a', 'Home')"
          @mouseleave="(hover = false), (iconText = '')"
          class="rounded"
        >
          <i class="fa fa-home"></i>
        </button>
      </li>
      <li class="loader_welcome--3">
        <button
          @mouseover="getPosition('.loader_welcome--3', '#8f00f1', 'CV')"
          @mouseleave="(hover = false), (iconText = '')"
          class="rounded"
        >
          <i class="fa fa-download"></i>
        </button>
      </li>
      <li class="loader_welcome--4">
        <button
          @mouseover="getPosition('.loader_welcome--4', '#fff600', 'Contact')"
          @mouseleave="(hover = false), (iconText = '')"
          class="rounded"
        >
          <i class="fa fa-commenting-o"></i>
        </button>
      </li>
    </ul>
  </nav>
</template>

<script>
export default {
  name: "NavAnimated",
  data() {
    return {
      hover: false,
      created: false,
      iconText: "",
    };
  },
  created() {
    setTimeout(this.isAnimationFinish, 2050);
  },
  methods: {
    getPosition(element, color, text) {
      if (this.created == true) {
        const object = document.querySelector(element);
        const iconText = document.querySelector(".nav_text");
        const box = object.getBoundingClientRect();
        const svg = document.querySelector(".svg");
        svg.style.top = box.top + "px";
        svg.style.left = box.left + "px";
        svg.style.stroke = color;
        this.iconText = text;
        iconText.style.color = color;
        return (this.hover = true);
      }
    },
    isAnimationFinish() {
      const animation = document.querySelector(".loader_welcome--0");
      animation.addEventListener("animationend", () => {
        console.log("Animated");
        return (this.created = true);
      });
    },
  },
};
</script>

<style lang="scss" scoped>
.svg {
  transform: scale(2);
  position: absolute;
  z-index: -1;
  width: 8vh;
  path {
    fill: none;
    stroke-dasharray: 2000;
    stroke-dashoffset: 2000;
    stroke-width: 15px;
    stroke-miterlimit: 1000;
    animation-direction: alternate;
    animation-duration: 2000ms;
    animation-iteration-count: infinite;
    animation-name: dash;
    animation-timing-function: ease-in-out;
  }
}

.loader_welcome {
  display: flex;
  width: 50%;
  animation: goDown 2000ms forwards ease-in-out;
  justify-content: space-evenly;
  &--0 {
    opacity: 0;
    animation: up 2000ms 1500ms forwards ease-in-out;
    & > .rounded {
      border: double map.get($buttonColor, ".loader_welcome--0");
      color: map.get($buttonColor, ".loader_welcome--0");
    }
  }

  &--1 {
    opacity: 0;
    animation: appear 2000ms 1500ms forwards ease-in-out;
    & > .rounded {
      border: double map.get($buttonColor, ".loader_welcome--1");
      color: map.get($buttonColor, ".loader_welcome--1");
    }
  }
  &--2 {
    animation: down 2000ms 1500ms forwards ease-in-out;
    & > .rounded {
      border: double map.get($buttonColor, ".loader_welcome--2");
      color: map.get($buttonColor, ".loader_welcome--2");
    }
  }
  &--3 {
    opacity: 0;

    animation: appear 2000ms 1500ms forwards ease-in-out;
    & > .rounded {
      border: double map.get($buttonColor, ".loader_welcome--3");
      color: map.get($buttonColor, ".loader_welcome--3");
    }
  }
  &--4 {
    opacity: 0;

    animation: up 2000ms 1500ms forwards ease-in-out;
    & > .rounded {
      border: double map.get($buttonColor, ".loader_welcome--4");
      color: map.get($buttonColor, ".loader_welcome--4");
    }
  }
}

.rounded {
  cursor: pointer;
  width: 8vh;
  height: 8vh;
  border-radius: 50%;
  position: relative;
  border: 1px solid rgb(146, 148, 248);
  position: relative;
  overflow: hidden;
  color: #f4f4f4;
  background: transparent;
  & i {
    font-size: 1.5rem;
  }
  &:hover {
    box-shadow: 1px 1px 25px 10px rgba(146, 148, 248, 0.4);
  }

  &:before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      120deg,
      transparent,
      rgba(146, 148, 248, 0.4),
      transparent
    );
    transition: all 650ms;
  }

  &:hover:before {
    left: 100%;
  }
}
.nav_text {
  transform: translateY(2vh);
  width: 100%;
  display: flex;
  justify-content: center;
  position: absolute;
  & P {
    font-size: 1.5rem;
    font-weight: bold;
  }
}
</style>
